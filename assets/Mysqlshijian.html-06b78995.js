import{_ as a,r as l,o,c as d,a as t,b as n,d as e,e as i}from"./app-d188f79b.js";const c={},p=i(`<h2 id="字段" tabindex="-1"><a class="header-anchor" href="#字段" aria-hidden="true">#</a> 字段</h2><p>在 Mysql 中表示时间值的日期和时间类型有 DATETIME、DATE、TIMESTAMP、TIME 和 YEAR。</p><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">大小</th><th style="text-align:left;">范围</th><th style="text-align:left;">格式</th><th style="text-align:left;">用途</th></tr></thead><tbody><tr><td style="text-align:left;">DATE</td><td style="text-align:left;">3</td><td style="text-align:left;">1000-01-01 / 9999-12-31</td><td style="text-align:left;">YYYY-MM-DD</td><td style="text-align:left;">日期值</td></tr><tr><td style="text-align:left;">TIME</td><td style="text-align:left;">3</td><td style="text-align:left;">&#39;-838:59:59&#39; / &#39;838:59:59&#39;</td><td style="text-align:left;">HH:MM:SS</td><td style="text-align:left;">时间值或持续时间</td></tr><tr><td style="text-align:left;">YEAR</td><td style="text-align:left;">1</td><td style="text-align:left;">1901 / 2155</td><td style="text-align:left;">YYYY</td><td style="text-align:left;">年份值</td></tr><tr><td style="text-align:left;">DATETIME</td><td style="text-align:left;">8</td><td style="text-align:left;">&#39;1000-01-01 00:00:00&#39; 到 &#39;9999-12-31 23:59:59&#39;</td><td style="text-align:left;">YYYY-MM-DD hh:mm:ss</td><td style="text-align:left;">混合日期和时间值</td></tr><tr><td style="text-align:left;">TIMESTAMP</td><td style="text-align:left;">4</td><td style="text-align:left;">&#39;1970-01-01 00:00:01&#39; UTC 到 &#39;2038-01-19 03:14:07&#39; UTC</td><td style="text-align:left;">YYYY-MM-DD hh:mm:ss</td><td style="text-align:left;">混合日期和时间值，时间戳</td></tr></tbody></table><h2 id="获取当前时间" tabindex="-1"><a class="header-anchor" href="#获取当前时间" aria-hidden="true">#</a> 获取当前时间</h2><p>在 Mysql 中获取当前时间的方法主要有以下几个：</p><ul><li>CURRENT_TIMESTAMP</li><li>CURRENT_DATE</li><li>CURRENT_TIME</li><li>now()</li><li>sysdate()</li></ul><p>可以执行下面 SQL 查看：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">CURRENT_TIME</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sysdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2024/03/18/5AKbPOmuDUf31j7.png" alt="image-20231109223721422"></p><p>获取的时间可以用来设定为默认值，或者增、删、改。</p><p><strong>这里需要特别说明一下，在插入时间类型会自动根据字段指定的时间类型转变。</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> your_table <span class="token punctuation">(</span>
  id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  created_at <span class="token keyword">date</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> your_table <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">-- 会将 CURRENT_TIMESTAMP 转化为 date</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> your_table<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果：</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>+----+------------+
| id | created_at |
+----+------------+
|  1 | 2023-11-09 |
+----+------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="指定默认值" tabindex="-1"><a class="header-anchor" href="#指定默认值" aria-hidden="true">#</a> 指定默认值</h2><p>版本不同方式也有些不同，这里讲一下常用 5.7 版本和最新 8.0 版本的不同。</p><p><strong>5.7 版本：</strong></p><p>在 MySQL 5.7 中，只能为 <code>DATETIME</code> 和 <code>TIMESTAMP</code> 数据类型指定默认时间（使用 CURRENT_TIMESTAMP ）。建表语句：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> your_table <span class="token punctuation">(</span>
  id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  created_at <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- TIMESTAMP 也一样</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>这里说明一下，虽然不能指定默认值但是在插入数据时是可以使用 CURRENT_DATE 和 CURRENT_TIME 的</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> your_table <span class="token punctuation">(</span>
  id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  created_at <span class="token keyword">date</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> your_table <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">-- 可以执行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>8.0 版本：</strong></p><ul><li>从8.0.13版本开始可以指定 DATE 的默认值为的 CURRENT_DATE，TIME 默认值为 CURRENT_TIME。</li><li>指定 CURRENT_DATE、CURRENT_TIME 为默认值时，需要用括号 () 包裹住 CURRENT_DATE 或 CURRENT_TIME，否则将报语法错误。</li><li>TIMESTAMP 或者 DATETIME 字段不需要括号包裹。</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> your_table <span class="token punctuation">(</span>
  id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  created_at <span class="token keyword">date</span> <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- TIME 将 CURRENT_DATE 换成 CURRENT_TIME</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="函数参考" tabindex="-1"><a class="header-anchor" href="#函数参考" aria-hidden="true">#</a> 函数参考</h2>`,25),r={href:"https://www.w3school.com.cn/index.html",target:"_blank",rel:"noopener noreferrer"},u=t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"函数"),t("th",{style:{"text-align":"left"}},"描述")])],-1),k={style:{"text-align":"left"}},_={href:"https://www.w3school.com.cn/sql/func_now.asp",target:"_blank",rel:"noopener noreferrer"},h=t("td",{style:{"text-align":"left"}},"返回当前的日期和时间",-1),y={style:{"text-align":"left"}},T={href:"https://www.w3school.com.cn/sql/func_curdate.asp",target:"_blank",rel:"noopener noreferrer"},E=t("td",{style:{"text-align":"left"}},"返回当前的日期",-1),f={style:{"text-align":"left"}},g={href:"https://www.w3school.com.cn/sql/func_curtime.asp",target:"_blank",rel:"noopener noreferrer"},m=t("td",{style:{"text-align":"left"}},"返回当前的时间",-1),w={style:{"text-align":"left"}},v={href:"https://www.w3school.com.cn/sql/func_date.asp",target:"_blank",rel:"noopener noreferrer"},b=t("td",{style:{"text-align":"left"}},"提取日期或日期/时间表达式的日期部分",-1),x={style:{"text-align":"left"}},R={href:"https://www.w3school.com.cn/sql/func_extract.asp",target:"_blank",rel:"noopener noreferrer"},M=t("td",{style:{"text-align":"left"}},"返回日期/时间按的单独部分",-1),A={style:{"text-align":"left"}},I={href:"https://www.w3school.com.cn/sql/func_date_add.asp",target:"_blank",rel:"noopener noreferrer"},C=t("td",{style:{"text-align":"left"}},"给日期添加指定的时间间隔",-1),D={style:{"text-align":"left"}},U={href:"https://www.w3school.com.cn/sql/func_date_sub.asp",target:"_blank",rel:"noopener noreferrer"},N=t("td",{style:{"text-align":"left"}},"从日期减去指定的时间间隔",-1),q={style:{"text-align":"left"}},Y={href:"https://www.w3school.com.cn/sql/func_datediff_mysql.asp",target:"_blank",rel:"noopener noreferrer"},S=t("td",{style:{"text-align":"left"}},"返回两个日期之间的天数",-1),P={style:{"text-align":"left"}},L={href:"https://www.w3school.com.cn/sql/func_date_format.asp",target:"_blank",rel:"noopener noreferrer"},B=t("td",{style:{"text-align":"left"}},"用不同的格式显示日期/时间",-1);function F(O,V){const s=l("ExternalLinkIcon");return o(),d("div",null,[p,t("p",null,[n("用到的时候去 "),t("a",r,[n("W3school"),e(s)]),n(" 查看就行，这里过多赘述。")]),t("table",null,[u,t("tbody",null,[t("tr",null,[t("td",k,[t("a",_,[n("NOW()"),e(s)])]),h]),t("tr",null,[t("td",y,[t("a",T,[n("CURDATE()"),e(s)])]),E]),t("tr",null,[t("td",f,[t("a",g,[n("CURTIME()"),e(s)])]),m]),t("tr",null,[t("td",w,[t("a",v,[n("DATE()"),e(s)])]),b]),t("tr",null,[t("td",x,[t("a",R,[n("EXTRACT()"),e(s)])]),M]),t("tr",null,[t("td",A,[t("a",I,[n("DATE_ADD()"),e(s)])]),C]),t("tr",null,[t("td",D,[t("a",U,[n("DATE_SUB()"),e(s)])]),N]),t("tr",null,[t("td",q,[t("a",Y,[n("DATEDIFF()"),e(s)])]),S]),t("tr",null,[t("td",P,[t("a",L,[n("DATE_FORMAT()"),e(s)])]),B])])])])}const j=a(c,[["render",F],["__file","Mysqlshijian.html.vue"]]);export{j as default};
